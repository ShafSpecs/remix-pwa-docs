---
title: workerAction
description: Worker-only handlers for non-GET requests
shortTitle: workerAction
section: "Routes & Worker API"
position: 4
---

{/* Do not remove these lines! */}
import Heading from './heading.tsx'
import Editor from './editor.tsx'
import { TipBad, TipGood } from './tip.tsx'
import Warn from './warn.tsx'

You've heard of Remix [`action`](https://remix.run/docs/en/main/route/action), you know what it does. In case you don't, here is a quick rundown:

> *`action`s are server-only functions that handle data mutations and other actions. If a non-GET request is made to your 
> route (POST, PUT, PATCH, DELETE) then the action is called before the loaders.*

Cool, the keyword there is **server-only**. `workerAction` is exactly the same (maybe a bit more outrageous) but it runs on only the worker thread instead.

---

## workerAction

### The Basics

Previously, all requests made in Remix PWA where routed to your main service worker file and handled from there. This is no longer the case thanks to the
Remix PWA [compiler](/docs/technical-explanation#compiler). Utilising the same approach as Remix did, we can now route requests to a worker file and handle them there.

Whenever a non-GET request is made in a route with an `action`, the `workerAction` intercepts it and handles it in the worker thread (service worker is a middle-layer, remember?). 
This means that you can now handle your data mutations and other actions in the worker thread, leaving your main thread free to do other things. The Remix `action` isn't obsolete though
as you still require a server to process requests and send responses. The `workerAction` is just a way to offload some of the work to the worker thread as well as keep your code clean.

Talk about perfomance :rocket:!

### Usage

The `workerAction` is used in the same way as the `action` is used. 

```tsx
export const action = () => {
  /* ... */
}

export const workerAction = ({ context, request }) => {
  /* Handle your stuffs here like a champ! */
}
```

You can explore the arguments passed in detail in the [`defaultFetchHandler`](/docs/default-fetch-handler#api) page.

<Warn>Never utilise `workerAction` in a route without an `action` as it could lead to unpredictable behaviour.</Warn> 

```tsx
export const workerAction = ({ context, request }) => {
  /* Handling stuffs with no action */
}
```

### `workerAction` vs `action`

The `workerAction` differ from `action` based on where they run and what they can do. The `workerAction` runs on the worker thread and can only do things that the worker thread can do (can't run server-side content, for example)
while the `action` runs on the server and can only do things that the server can do (can't run client-side content, for example).

Asides from that, they are pretty much the same. They both have access to the `context` (which are two different objects), `params` and `request` objects.